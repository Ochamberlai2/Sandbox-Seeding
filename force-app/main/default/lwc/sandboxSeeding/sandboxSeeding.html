<template>
  <lightning-card title="Seed a sandbox">
    <span slot="actions" class="slds-grid slds-gutters_xx-small">
      <lightning-button
        class="slds-col"
        variant="brand"
        label="Create object template"
        onclick={createObjectTemplate}
      ></lightning-button>
      <lightning-button
        class="slds-col"
        variant="brand"
        label="Seed sandbox"
        onclick={seedSandbox}
      ></lightning-button>
    </span>
    <span class="slds-grid slds-gutters_xx-small">
      <lightning-input
        label="Template name"
        class="slds-var-m-around_medium slds-col"
        onchange={handleTemplateNameChange}
      ></lightning-input>
      <lightning-input
        label="Number of records"
        class="slds-var-m-around_medium slds-col"
        type="number"
        max="20"
        onchange={handleNumberRecordsChange}
      ></lightning-input>
    </span>
    <lightning-combobox
      options={objectsOptions}
      label="Object"
      onchange={handleObjectSelect}
      value={selectedObject}
      class="slds-var-m-around_medium"
    ></lightning-combobox>

    <template for:each={fields} for:item="item">
      <div
        class="slds-grid slds-gutters slds-var-m-around_medium"
        key={item.key}
      >
        <div class="slds-col slds-size_1-of-4">
          <p style="padding-bottom: 1rem">{item.key}</p>
        </div>
        <div class="slds-col slds-size_3-of-4">
          <lightning-combobox
            variant="label-hidden"
            data-key={item.key}
            options={typeOptions}
            label="data type"
            onchange={handleTypeSelect}
          ></lightning-combobox>
          <template lwc:if={item.isSpecific}>
            <lightning-input
              class="slds-var-m-top_small"
              label="Specific value"
              variant="label-hidden"
              data-key={item.key}
              onchange={handleSpecificValueChange}
            ></lightning-input>
          </template>
        </div>
      </div>
    </template>
  </lightning-card>
</template>
